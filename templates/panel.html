{% extends "base.html" %}

{% block title %}Panel de Control{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/panel.css') }}">
{% endblock %}

{% block content %}
<div class="container-fluid px-0">

    <div class="welcome-banner animate__animated animate__fadeIn">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h2>ğŸ‘‹ Hola, {{ trabajador.nombre }}</h2>
                <p class="mb-0">
                    Bienvenido al panel de gestiÃ³n de <strong>{{ empresa.nombrecomercial if empresa else 'Sin Empresa' }}</strong>.
                    AquÃ­ tienes un resumen de la actividad hoy.
                </p>
            </div>
            <div class="col-md-4 text-end d-none d-md-block">
                <span style="font-size: 4rem; opacity: 0.3;">ğŸ“Š</span>
            </div>
        </div>
    </div>

    <div class="row g-4 mb-4">
        <div class="col-md-3 col-sm-6">
            <div class="stat-card">
                <div class="stat-info">
                    <h3>{{ stats.empleados }}</h3>
                    <p>Empleados</p>
                </div>
                <div class="stat-icon icon-blue">ğŸ‘¥</div>
            </div>
        </div>
        
        <div class="col-md-3 col-sm-6">
            <div class="stat-card">
                <div class="stat-info">
                    <h3>{{ stats.roles }}</h3>
                    <p>Roles</p>
                </div>
                <div class="stat-icon icon-purple">ğŸ·ï¸</div>
            </div>
        </div>

        <div class="col-md-3 col-sm-6">
            <div class="stat-card">
                <div class="stat-info">
                    <h3>{{ stats.horarios }}</h3>
                    <p>Horarios</p>
                </div>
                <div class="stat-icon icon-orange">â°</div>
            </div>
        </div>

        <div class="col-md-3 col-sm-6">
            <div class="stat-card">
                <div class="stat-info">
                    <h3>{{ stats.fichajes_total }}</h3>
                    <p>Fichajes Tot.</p>
                </div>
                <div class="stat-icon icon-green">âœ…</div>
            </div>
        </div>
    </div>

    <h4 class="section-title">GestiÃ³n RÃ¡pida</h4>
    
    <div class="row g-4">
        <div class="col-lg-3 col-md-6">
            <a href="{{ url_for('empleados_list') }}" class="action-card">
                <span class="action-icon">ğŸ‘”</span>
                <div class="action-title">Empleados</div>
                <div class="action-desc">Alta, baja y modificaciÃ³n de datos de la plantilla.</div>
            </a>
        </div>

        <div class="col-lg-3 col-md-6">
            <a href="{{ url_for('empresa_view') }}" class="action-card">
                <span class="action-icon">ğŸ¢</span>
                <div class="action-title">Empresa & UbicaciÃ³n</div>
                <div class="action-desc">Ajusta las coordenadas GPS y el radio de fichaje.</div>
            </a>
        </div>

        <div class="col-lg-3 col-md-6">
            <a href="{{ url_for('horarios_list') }}" class="action-card">
                <span class="action-icon">ğŸ“…</span>
                <div class="action-title">Horarios y Turnos</div>
                <div class="action-desc">Define franjas horarias y asigna turnos de trabajo.</div>
            </a>
        </div>

        <div class="col-lg-3 col-md-6">
            <a href="{{ url_for('roles_list') }}" class="action-card">
                <span class="action-icon">ğŸ”‘</span>
                <div class="action-title">Roles y Permisos</div>
                <div class="action-desc">Crea niveles de acceso para administradores o empleados.</div>
            </a>
        </div>
    </div>

</div>
{% endblock %}